@import "../../core/less/import.less";
@menu-pre: ~"@{ui}-menu";

.@{menu-pre} {

    @icon-margin: 4px;

    .ut-clearfix;
    position: relative;
    box-sizing: border-box;

    .@{menu-pre}-item {
        cursor: pointer;

        .@{ui}-icon {
            vertical-align: middle;
            margin-right: @icon-margin;
            line-height: 1;

            &.icon-moreunfold {
                font-size: 14px;
                margin-right: 0;
                margin-left: @icon-margin;
            }
        }
    }

    .@{menu-pre}-title {
        display: inline-block;
        .middle-vertical(48px);
    }

    .@{menu-pre}-sub {

        .@{menu-pre}-item {
            border: none;
        }
    }

    &-horizontal {
        .active() {
            &, a {
                color: @color-primary;
                border-bottom-color: @color-primary;
            }
        }

        border-bottom: 1px solid @color-border-nomal;
        box-sizing: border-box;
        line-height: 48px;

        .@{menu-pre}-item {
            padding: 0 30px;
            margin-bottom: -1px;
            float: left;
            border-bottom: 2px solid transparent;
            .transition(all @animate-time-normal ease);

            &-active {
                .active;
            }

            &:hover {
                .active;

                .@{menu-pre}-sub {
                    display: block;
                }
            }
        }

        .@{menu-pre}-submenu {
            position: relative;
        }

        .@{menu-pre}-sub {
            .ut-clearfix;
            top: 100%;
            left: 0;
            position: absolute;
            width: 100%;
            margin-top: 3px;
            z-index: 1050;
            display: none;
            transition: background @animate-time-fast cubic-bezier(.075,.82,.165,1);
            border: 1px solid @color-border-nomal;
            border-radius: 4px;
            background-color: @color-background;
            box-shadow: 0 0 4px rgba(204,204,204,.75);

            .@{menu-pre}-item {
                float: none;
                display: inline-block;
                width: 100%;
                box-sizing: border-box;


                a {
                    color: @color-text-deep;
                }

                &:hover {
                    border: none;
                    color: @color-primary;
                    .active()
                }
            }

            &:before {
                width: 100%;
                height: 2px;
                position: absolute;
                content: '';
                top: -2px;
                left: 0;
                background-color: transparent;
            }
        }
    }

    &-vertical {
        width: 240px;
        padding: 0 20px;
        border-right: 1px solid @color-border-deep;

        .@{menu-pre}-item {
            border-bottom: 1px solid @color-border-nomal;
            padding: 0 15px;
        }

        .@{menu-pre}-title {
            display: inline-block;
            .middle-vertical(48px);
        }

        .@{menu-pre}-sub .@{menu-pre}-item {
            height: auto;
        }
    }
}
