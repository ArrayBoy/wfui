"use strict";(function(n){var t=n.wf||{},t=function(){var t={token:"_core_",values:["logger"]},n={};return{name:"wf",version:"1.0.0",define:function(i,r,u){if(typeof r=="string"&&r===t.token&&(r=t.values),!n[i]){var f={name:i,dependencies:r,factory:u};n[i]=f}return n[i]},require:function(t){var i=n[t],u,r;if(!i.entity){for(u=[],r=0;r<i.dependencies.length;r++)n[i.dependencies[r]].entity?u.push(n[i.dependencies[r]].entity):u.push(this.require(i.dependencies[r]));i.entity=i.factory.apply(function(){},u)}return i.entity},inherit:function(n,t){function r(){if(n&&(this.baseprototype=n.prototype),!this.init)throw new Error("init function is undefind");this.init.apply(this,arguments)}var f=function(n){var t=n.toString().match(/^[\s\(]*function[^(]*\(([^\)]*)\)/)[1].replace(/\s+/g,"").split(",");return t.length==1&&!t[0]?[]:t},u,i;typeof n=="object"&&(t=n,n=null);n&&(u=function(){},u.prototype=n.prototype,r.prototype=new u,r.prototype.constructor=r);for(i in t)t.hasOwnProperty(i)&&(r.prototype[i]=n&&typeof t[i]=="function"&&f(t[i])[0]==="_base_"?function(t,i){return function(){var r=this,u=function(){return n.prototype[t].apply(r,arguments)};return i.apply(this,Array.prototype.concat.apply(u,arguments))}}(i,t[i]):t[i]);return r}}};n.wf=t()})(window),function(){String.prototype.format=function(){var n=this;return arguments.length>0&&$.each(arguments,function(t,i){n=n.replace(new RegExp("\\{"+t+"\\}","g"),i)}),n};String.prototype.empty=function(){return""};Array.prototype.empty=function(){return[]}}(),function(n){for(var t=n.console||{},u=["assert","clear","count","debug","dir","dirxml","exception","error","group","groupCollapsed","groupEnd","info","log","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],f={version:"1.0.0"},i,r=0,e=u.length;r<e;r++)i=u[r],f[i]=function(n){return function(){if(typeof t[n]=="undefined")return 0;Function.prototype.apply.call(t[n],t,arguments)}}(i);n.console=f}(window);wf.define("logger",[],function(){var n={debug:"debug",info:"info",warn:"warn",error:"error"},i={local:"local",remote:"remote"},r=i.local,u="",t=function(n,t){if(r=i.local)console[t](n);else if(!u)throw new Error("remoteUrl empty,");return n};return{getOutputMode:function(){return r},setOutputMode:function(n){n&&(u=n,r=i.remote)},debug:function(i){return t(i,n.debug)},info:function(i){return t(i,n.info)},warn:function(i){return t(i,n.warn)},error:function(i){return t(i,n.error)}}});wf.define("cookie",[],function(){return{set:function(n,t,i,r,u){document.cookie=[n,"=",t,u?"; expires="+u.toGMTString():"",r?"; path="+r:"",i?"; domain="+i:""].join("")},get:function(n){var t,i=new RegExp("(^| )"+n+"=([^;]*)(;|$)");return(t=document.cookie.match(i))?t[2]:null},remove:function(n){document.cookie=n+"=; expires=Mon, 26 Jul 1997 05:00:00 GMT;"}}});wf.define("loader",[],function(){var n={},t=function(n){var t=document.createElement("script");return t.type="text/javascript",t.async="true",t.src=n+".js",t};return{name:"model loader",load:function(i,r){for(var f,u=0;u<i.length;u++)if(f=i[u],!n[f]){var o=document.getElementsByTagName("head")[0],e=t(f),s=function(){for(var u=!0,t=0;t<i.length;t++)if(!n[i[t]]){u=!1;break}u&&r()};e.onload=function(){n[f]=!0;o.removeChild(e);s(i,r)};o.appendChild(e)}}}});wf.define("Action","_core_",function(){return wf.inherit({name:String.empty,register:function(n){this.funcs.push(n)},piping:function(){var n=this;$.each(n.funcs,function(){this(n)})},init:function(n,t,i){this.name=n;this.funcs=[];this.$target=i;$.isFunction(t)&&t.call(this)}})});wf.define("UI",["logger"],function(){var n="wf",t="-",r=".",i=wf.inherit({name:String.empty,active:!0,$element:{},action:{},show:function(){this.$element.show()},hide:function(){this.$element.hide()},remove:function(){this.$element.remove()},clsName:function(i){return[n,this.role,i].join(t)},find:function(n){return this.$element.find(r+this.clsName(n))},initElement:function(n){var t=this;$.each(n,function(){this.$element=t.find(this.selector);this.action&&$.isFunction(this.action)&&this.action(t);t[this.selector]=this})},initEvent:function(n){if(n)for(var t in n)this.on(t,n[t])},init:function(n,t){this.name=n;this.$element=t}});return i.clsName=function(i,r){return[n,r,i].join(t)},i});wf.define("UI.Checkbox",["UI","logger","Action"],function(n,t,i){var r="checkbox",u=wf.inherit(n,{role:r,checkedCls:function(){return this.clsName("checked")},disabledCls:function(){return this.clsName("disabled")},on:function(n,i){this.action[n]?this.action[n].register(i):t.error("checkbox 无{0}事件".format(n))},set:function(n){var i=this.input.$element,t=n===undefined?i.is(":checked")?!1:!0:n;i.prop("checked",t);this.checked=t;this.$element[t?"addClass":"removeClass"](this.checkedCls())},setText:function(n){this.text.$element.text(n)},init:function(n,t,r,u,f){var e=this;n(t,r);e.initElement([{selector:"inner"},{selector:"input"},{selector:"text"}]);e.set(u||!1);e.action={click:new i("click",function(){var n=this;n.$target.click(function(){if(e.$element.hasClass(e.disabledCls()))return!1;e.set();n.piping()})},this.$element)};e.initEvent(f)}}),f='[data-role="'+r+'"]',e=function(n,t){return n.attr("id")||r+t},o=function(t,i,f){return new u(e(t,i),t,t.hasClass(n.clsName("checked",r)),f?{click:f}:null)};return u.group=function(t){var i={items:{}},h,s=t.data("target");return $.each($("#"+s).find(f),function(n){h=$(this);i.items[e(h,s+n)]=o(h,s+n,function(){var n=[],t=!0;for(var r in i.items){if(n.length==0){n.push(i.items[r].checked);continue}if($.inArray(i.items[r].checked,n)<0){t=!1;break}}i.controller.set(t?n[0]:!1)})}),i.controller=new u(s+"controller",t,t.hasClass(n.clsName("checked",r)),{click:function(){for(var u in i.items)i.items[u].set(t.hasClass(n.clsName("checked",r)))}}),i.name=s,i},u.auto=function(t){var i,e;$.each($(f).not("."+n.clsName("group-item",r)),function(n){i=$(this);e=i.data("target");t.addElement(e?u.group(i,e):o(i,n))})},u});wf.define("UI.Radio",["UI","logger","Action"],function(n,t,i){var r="radio",u=wf.inherit(n,{role:r,checkedCls:function(){return this.clsName("checked")},disabledCls:function(){return this.clsName("disabled")},on:function(n,i){this.action[n]?this.action[n].register(i):t.error("radio 无{0}事件".format(n))},set:function(n){var i=this.input.$element,t=n===undefined?i.is(":checked")?!1:!0:n;i.prop("checked",t);this.checked=t;this.$element[t?"addClass":"removeClass"](this.checkedCls())},setText:function(n){this.text.$element.text(n)},init:function(n,t,r,u,f){var e=this;n(t,r);e.initElement([{selector:"inner"},{selector:"input"},{selector:"text"}]);e.set(u||!1);e.action={click:new i("click",function(){var n=this;n.$target.click(function(){if(e.$element.hasClass(e.disabledCls()))return!1;e.set(!0);n.piping()})},this.$element)};e.initEvent(f)}});return u.auto=function(t){var f='[data-role="'+r+'"]',i=function(n,t){return n.attr("id")||r+t},e=function(t,f,e){return new u(i(t,f),t,t.hasClass(n.clsName("checked",r)),e?{click:e}:null)},o=function(n,t){var r={items:{}},u,o=i(n,t);return $.each(n.find(f),function(n){u=$(this);r.items[i(u,o+n)]=e(u,o+n,function(n){for(var t in r.items)t!==n.$target.attr("id")&&r.items[t].set(!1)})}),r.name=o,r};$.each($(f).not("."+n.clsName("group-item",r)),function(n){t.addElement(e($(this),n))});$.each($("."+n.clsName("group",r)),function(n){t.addElement(o($(this),n))})},u});wf.define("page",["logger"],function(n){return{name:String.empty,components:{},element:{},addElement:function(t){if(this.element[t.name]){n.error("页面组件id"+t.name+"重复");return}this.element[t.name]=t},auto:function(){for(var t in this.components)$.isFunction(this.components[t].auto)?this.components[t].auto(this):n.error(t+"缺少auto render")},logger:n,render:function(n,t,i,r){var u=this,f=".";return u.name=n,$.each(t,function(){this.indexOf(f)>-1?u.components[this.split(f)[1]]=wf.require(this):u[this]||(u[this]=wf.require(this))}),$.isFunction(i)&&i.call(u,u.components),(r===undefined||r)&&u.auto(),u}}});